{% extends "core/base.html" %}
{% block title %}Relatório Financeiro - {{ vaquejada.nome }}{% endblock %}
{% block content %}
<h1>
  <i class="fas fa-chart-bar"></i> Relatório Financeiro - {{ vaquejada.nome }}
</h1>

<p class="text-muted">
  {{ vaquejada.data_evento|date:"d/m/Y H:i" }} - {{ vaquejada.cidade }}, {{
  vaquejada.estado }}
</p>

{% if data %}
<div class="table-responsive">
  <table class="table table-striped">
    <thead class="table-dark">
      <tr>
        <th>Categoria</th>
        <th>Quantidade</th>
        <th>Pago</th>
        <th>Pendente</th>
        <th>Total</th>
      </tr>
    </thead>
    <tbody>
      {% for item in data %}
      <tr>
        <td><strong>{{ item.categoria }}</strong></td>
        <td>{{ item.quantidade }}</td>
        <td>R$ {{ item.pago|floatformat:2 }}</td>
        <td>R$ {{ item.pendente|floatformat:2 }}</td>
        <td><strong>R$ {{ item.total|floatformat:2 }}</strong></td>
      </tr>
      {% endfor %}
    </tbody>
    <tfoot class="table-dark">
      <tr>
        <th colspan="3">TOTAL GERAL</th>
        <th colspan="2"><strong>R$ {{ total_geral|floatformat:2 }}</strong></th>
      </tr>
    </tfoot>
  </table>
</div>
{% else %}
<div class="alert alert-info">Nenhum dado disponível para esta vaquejada.</div>
{% endif %}

<div class="mt-4">
  <a href="{% url 'admin_vaquejadas' %}" class="btn btn-secondary">
    <i class="fas fa-arrow-left"></i> Voltar
  </a>
</div>

{% endblock %}
